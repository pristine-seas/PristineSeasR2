% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/validate_vocab.R
\name{validate_vocab}
\alias{validate_vocab}
\title{Validate Values Against Allowed Vocabularies}
\usage{
validate_vocab(x, vocab)
}
\arguments{
\item{x}{Character vector of values to validate.}

\item{vocab}{Character string naming the vocabulary to validate against.
One of: \code{"trophic_group"}, \code{"depth_strata"}, \code{"exposure"},
\code{"uvs_habitats"}, \code{"functional_groups"}.}
}
\value{
Returns \code{TRUE} invisibly if all values are valid.
Stops with an error if any invalid values are found.
}
\description{
Checks whether all values conform to Pristine Seas standardized vocabularies.
Use early in data processing pipelines to catch non-standard entries before
analysis. Stops with an informative error if invalid values are found.
}
\details{
This function is designed as a gatekeeper for data quality. Place it early
in your pipeline to ensure data conforms to standards before analysis.

\strong{On success:} Prints a confirmation message and returns \code{TRUE} invisibly.

\strong{On failure:} Stops with an error listing:
\itemize{
\item Number and identity of invalid values
\item All allowed values for reference
}

For filtering data (rather than validating), use \code{\%in\%} directly:

\if{html}{\out{<div class="sourceCode">}}\preformatted{df |> filter(trophic \%in\% allowed_vocab$trophic_group)
}\if{html}{\out{</div>}}
}
\examples{
# Successful validation (prints message, returns TRUE invisibly)
validate_vocab(c("shark", "planktivore"), "trophic_group")

# NAs trigger a warning
validate_vocab(c("shallow", NA, "deep"), "depth_strata")
#> Warning: Found 1 NA value(s) in 'depth_strata'
#> âœ“ All 3 values valid for 'depth_strata'

# Use in a processing pipeline
\dontrun{
raw_data <- read.csv("fish_surveys.csv")

# Validate before proceeding
validate_vocab(raw_data$trophic_group, "trophic_group")
validate_vocab(raw_data$depth_strata, "depth_strata")

# Continue with clean data...
}

# Invalid values trigger an error
\dontrun{
validate_vocab(c("shark", "apex_predator"), "trophic_group")
#> Error: Invalid values found in 'trophic_group'
#> Found 1 invalid value: apex_predator
#> Allowed values: shark, top_predator, lower_carnivore, ...
}

# Filtering (don't use validate_vocab, use \%in\% directly)
\dontrun{
df |> filter(habitat \%in\% allowed_vocab$uvs_habitats)
}

}
\seealso{
\link{allowed_vocab} for the vocabularies and their definitions
}
