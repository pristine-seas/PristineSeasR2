[{"path":"https://pristine-seas.github.io/PristineSeasR2/articles/crw-dhw.html","id":"query-by-coords-numeric-bbox","dir":"Articles","previous_headings":"","what":"Query by coords (numeric bbox)","title":"Thermal stress (DHW) from NOAA Coral Reef Watch","text":"Use get_crw_dhw_bbox() already know bounding box WGS84 (EPSG:4326). returns gridded values (lat/lon pixels) day.","code":"lat_min <- 10.00 lat_max <- 10.20 lon_min <- 169.40 lon_max <- 169.70  dhw_grid <- get_crw_dhw_bbox(lat_min = lat_min,                              lat_max = lat_max,                              lon_min = lon_min,                              lon_max = lon_max,                              start   = \"2023-01-01\",                              end     = \"2024-12-31\",                              verbose = TRUE) #>   Fetching 2023... #>   Fetching 2024...  head(dhw_grid) #> # A tibble: 6 × 4 #>   date       latitude longitude   dhw #>   <date>        <dbl>     <dbl> <dbl> #> 1 2023-01-01     10.2      169.     0 #> 2 2023-01-01     10.2      169.     0 #> 3 2023-01-01     10.2      169.     0 #> 4 2023-01-01     10.2      170.     0 #> 5 2023-01-01     10.2      170.     0 #> 6 2023-01-01     10.2      170.     0"},{"path":"https://pristine-seas.github.io/PristineSeasR2/articles/crw-dhw.html","id":"summarize-by-day-daily-mean-across-the-bbox","dir":"Articles","previous_headings":"Query by coords (numeric bbox)","what":"Summarize by day (daily mean across the bbox)","title":"Thermal stress (DHW) from NOAA Coral Reef Watch","text":"common pattern collapse gridded output single daily mean DHW time series, get_crw_dhw_sf() default.","code":"dhw_daily <- dhw_grid |>   group_by(date) |>   summarise(avg_dhw = mean(dhw, na.rm = TRUE), .groups = \"drop\")  head(dhw_daily) #> # A tibble: 6 × 2 #>   date       avg_dhw #>   <date>       <dbl> #> 1 2023-01-01       0 #> 2 2023-01-02       0 #> 3 2023-01-03       0 #> 4 2023-01-04       0 #> 5 2023-01-05       0 #> 6 2023-01-06       0"},{"path":"https://pristine-seas.github.io/PristineSeasR2/articles/crw-dhw.html","id":"query-by-sf-feature-recommended","dir":"Articles","previous_headings":"","what":"Query by sf feature (recommended)","title":"Thermal stress (DHW) from NOAA Coral Reef Watch","text":"Use get_crw_dhw_sf() sf polygon (atoll, reef area, MPA boundary, site footprint, etc.). function : transform geometry WGS84 (EPSG:4326) compute bounding box query ERDDAP yearly chunks return daily mean DHW time series default (summarise_daily = TRUE)","code":"ps_paths <- ps_science_paths()  ralik_gpkg <- file.path(ps_paths$expeditions, \"RMI-2026/data/secondary/AOIs/AOIs_ralik.gpkg\") ratak_gpkg <- file.path(ps_paths$expeditions, \"RMI-2026/data/secondary/AOIs/AOIs_ratak.gpkg\")  AOIs <- bind_rows(st_read(ralik_gpkg, quiet = TRUE),                   st_read(ratak_gpkg, quiet = TRUE))"},{"path":"https://pristine-seas.github.io/PristineSeasR2/articles/crw-dhw.html","id":"single-aoi-example","dir":"Articles","previous_headings":"Query by sf feature (recommended)","what":"Single AOI example","title":"Thermal stress (DHW) from NOAA Coral Reef Watch","text":"","code":"jemo <- AOIs[AOIs$atoll == \"Jemo\", ]  jemo_dhw <- get_crw_dhw_sf(feature  = jemo,                            start    = \"2023-01-01\",                            end      = \"2024-12-31\",                            name_col = \"atoll\",                            out_col  = \"atoll\",                            summarise_daily = TRUE,  # DEFAULT: daily mean DHW time series                            verbose  = TRUE) #> Fetching DHW for Jemo... #>   Fetching 2023... #>   Fetching 2024...  jemo_dhw #> # A tibble: 731 × 3 #>    atoll date       avg_dhw #>    <chr> <date>       <dbl> #>  1 Jemo  2023-01-01       0 #>  2 Jemo  2023-01-02       0 #>  3 Jemo  2023-01-03       0 #>  4 Jemo  2023-01-04       0 #>  5 Jemo  2023-01-05       0 #>  6 Jemo  2023-01-06       0 #>  7 Jemo  2023-01-07       0 #>  8 Jemo  2023-01-08       0 #>  9 Jemo  2023-01-09       0 #> 10 Jemo  2023-01-10       0 #> # ℹ 721 more rows"},{"path":"https://pristine-seas.github.io/PristineSeasR2/articles/crw-dhw.html","id":"multiple-aois","dir":"Articles","previous_headings":"","what":"Multiple AOIs","title":"Thermal stress (DHW) from NOAA Coral Reef Watch","text":"multiple features, iterate rows bind results. keeps core function simple (one feature , one feature ) still supporting batch workflows.","code":"two_AOIs <- AOIs[AOIs$atoll %in% c(\"Jemo\", \"Ujelang\"), ]  dhw_two <- map_dfr(seq_len(nrow(two_AOIs)), \\(i) {   get_crw_dhw_sf(feature  = two_AOIs[i, ],                  start    = \"2023-01-01\",                  end      = \"2024-12-31\",                  name_col = \"atoll\",                  out_col  = \"atoll\",                  summarise_daily = TRUE,  # DEFAULT                  verbose  = TRUE)   }   ) #> Fetching DHW for Ujelang... #>   Fetching 2023... #>   Fetching 2024... #> Fetching DHW for Jemo... #>   Fetching 2023... #>   Fetching 2024...  dhw_two #> # A tibble: 1,462 × 3 #>    atoll   date       avg_dhw #>    <chr>   <date>       <dbl> #>  1 Ujelang 2023-01-01       0 #>  2 Ujelang 2023-01-02       0 #>  3 Ujelang 2023-01-03       0 #>  4 Ujelang 2023-01-04       0 #>  5 Ujelang 2023-01-05       0 #>  6 Ujelang 2023-01-06       0 #>  7 Ujelang 2023-01-07       0 #>  8 Ujelang 2023-01-08       0 #>  9 Ujelang 2023-01-09       0 #> 10 Ujelang 2023-01-10       0 #> # ℹ 1,452 more rows"},{"path":"https://pristine-seas.github.io/PristineSeasR2/articles/crw-dhw.html","id":"plotting-dhw-time-series","dir":"Articles","previous_headings":"","what":"Plotting DHW time series","title":"Thermal stress (DHW) from NOAA Coral Reef Watch","text":"plot visualizes daily mean DHW histories two AOIs. horizontal reference lines common heuristics: 4 DHW: elevated bleaching risk 8 DHW: severe bleaching / high mortality risk rules thumb interpreted context (seasonality, species composition, local adaptation, survey observations).","code":"# Safer annotation x position: early in the series, but not necessarily the absolute min (which could be NA) x_annot <- min(dhw_two$date, na.rm = TRUE)  p <- dhw_two |>   ggplot(aes(x = date, y = avg_dhw, color = atoll)) +   geom_line(linewidth = 0.9, alpha = 0.85) +   geom_hline(yintercept = 4, linetype = \"dashed\", color = \"grey30\", linewidth = 0.5) +   geom_hline(yintercept = 8, linetype = \"dotted\", color = \"grey30\", linewidth = 0.5) +   annotate(\"text\", x = x_annot, y = 4.5, label = \"Bleaching threshold (~4 DHW)\",            size = 3, color = \"grey30\", hjust = 0) +   annotate(\"text\", x = x_annot, y = 8.5, label = \"Severe threshold (~8 DHW)\",            size = 3, color = \"grey30\", hjust = 0) +   paletteer::scale_color_paletteer_d(\"ggthemes::calc\")+   scale_x_date(date_breaks = \"3 months\", date_labels = \"%Y-%m\") +   scale_y_continuous(name = \"DHW (°C-weeks)\", limits = c(0, NA)) +   labs(title = \"Thermal stress histories\",        subtitle = \"NOAA Coral Reef Watch Degree Heating Weeks (DHW)\",        x = NULL,        color = NULL,        caption = \"Source: NOAA Coral Reef Watch via ERDDAP\")+   PristineSeasR2::theme_ps()  p"},{"path":"https://pristine-seas.github.io/PristineSeasR2/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Juan Mayorga. Author, maintainer.","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Mayorga J (2026). PristineSeasR2: Marine Conservation Data Analysis Tools Pristine Seas. R package version 0.1.0, https://github.com/pristine-seas/PristineSeasR2.","code":"@Manual{,   title = {PristineSeasR2: Marine Conservation Data Analysis Tools for Pristine Seas},   author = {Juan Mayorga},   year = {2026},   note = {R package version 0.1.0},   url = {https://github.com/pristine-seas/PristineSeasR2}, }"},{"path":"https://pristine-seas.github.io/PristineSeasR2/index.html","id":"pristineseasr2","dir":"","previous_headings":"","what":"Marine Conservation Data Analysis Tools for Pristine Seas","title":"Marine Conservation Data Analysis Tools for Pristine Seas","text":"PristineSeasR2 data science toolkit National Geographic Pristine Seas. provides standardized vocabularies, validation tools, color palettes, utilities ensure consistency across marine conservation research.","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Marine Conservation Data Analysis Tools for Pristine Seas","text":"","code":"# install.packages(\"pak\") pak::pak(\"pristine-seas/PristineSeasR2\")"},{"path":"https://pristine-seas.github.io/PristineSeasR2/index.html","id":"standardized-vocabularies","dir":"","previous_headings":"","what":"Standardized Vocabularies","title":"Marine Conservation Data Analysis Tools for Pristine Seas","text":"Controlled vocabularies ensure consistent data entry across expeditions analysts:","code":"library(PristineSeasR2)  # Five standardized vocabularies names(allowed_vocab) #> [1] \"trophic_group\"     \"depth_strata\"      \"exposure\"          #> [4] \"uvs_habitats\"      \"functional_groups\"  # Trophic classifications for reef fish allowed_vocab$trophic_group #> [1] \"shark\"                   \"top_predator\"            #> [3] \"lower_carnivore\"         \"herbivore | detritivore\" #> [5] \"planktivore\""},{"path":"https://pristine-seas.github.io/PristineSeasR2/index.html","id":"data-validation","dir":"","previous_headings":"Standardized Vocabularies","what":"Data Validation","title":"Marine Conservation Data Analysis Tools for Pristine Seas","text":"Catch non-standard entries early — validate_vocab() stops pipeline invalid values found:","code":"# Valid data passes validate_vocab(c(\"shark\", \"top_predator\", \"planktivore\"), \"trophic_group\") # Invalid data stops with informative error validate_vocab(c(\"shark\", \"apex_predator\"), \"trophic_group\") #> Error: Invalid values found in 'trophic_group' #> Found 1 invalid value(s): apex_predator #> Allowed values: shark, top_predator, lower_carnivore, herbivore | detritivore, planktivore"},{"path":"https://pristine-seas.github.io/PristineSeasR2/index.html","id":"color-palettes","dir":"","previous_headings":"","what":"Color Palettes","title":"Marine Conservation Data Analysis Tools for Pristine Seas","text":"Publication-ready colors designed marine science visualization:","code":"library(ggplot2)  # Example: Trophic group colors trophic_colors <- ps_colors(\"trophic_group\")  # Sample data fish_data <- data.frame(trophic_group = factor(names(trophic_colors),                                                 levels = names(trophic_colors)),                         biomass       = c(45, 120, 280, 190, 85))  ggplot(fish_data,         aes(x = trophic_group, y = biomass, fill = trophic_group)) +   geom_col(width = 0.7) +   scale_fill_ps(\"trophic_group\", drop = TRUE) +   labs(title = \"Reef Fish Biomass by Trophic Group\",        x = NULL,        y = expression(Biomass~(g/m^2))) +   theme_ps()"},{"path":[]},{"path":"https://pristine-seas.github.io/PristineSeasR2/index.html","id":"depth-stratification","dir":"","previous_headings":"","what":"Depth Stratification","title":"Marine Conservation Data Analysis Tools for Pristine Seas","text":"Convert continuous depths standardized survey categories:","code":"depths_m <- c(2, 8, 12, 22, 45)  # Classify into strata stratify(depths_m) #> [1] \"supershallow\" \"shallow\"      \"shallow\"      \"deep\"         \"superdeep\"  # Get station suffixes for IDs station_suffix(stratify(depths_m)) #> [1] \"05m\" \"10m\" \"10m\" \"20m\" \"30m\""},{"path":[]},{"path":"https://pristine-seas.github.io/PristineSeasR2/index.html","id":"learn-more","dir":"","previous_headings":"","what":"Learn More","title":"Marine Conservation Data Analysis Tools for Pristine Seas","text":"Function Reference Pristine Seas Website Developed Pristine Seas Science Team","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/PristineSeasR2-package.html","id":null,"dir":"Reference","previous_headings":"","what":"PristineSeasR2: Marine Conservation Data Analysis Tools for Pristine Seas — PristineSeasR2-package","title":"PristineSeasR2: Marine Conservation Data Analysis Tools for Pristine Seas — PristineSeasR2-package","text":"Tools analyzing marine biodiversity data Pristine Seas expeditions. Includes functions taxonomic data cleaning, standardized vocabularies, color palettes visualization, spatial analysis utilities.","code":""},{"path":[]},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/PristineSeasR2-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"PristineSeasR2: Marine Conservation Data Analysis Tools for Pristine Seas — PristineSeasR2-package","text":"Maintainer: Juan Mayorga marine.data.science@ngs.org","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/allowed_vocab.html","id":null,"dir":"Reference","previous_headings":"","what":"Allowed Vocabularies — allowed_vocab","title":"Allowed Vocabularies — allowed_vocab","text":"Standardized vocabularies Pristine Seas data collection analysis. Use validate_vocab() check data conformance.","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/allowed_vocab.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Allowed Vocabularies — allowed_vocab","text":"","code":"allowed_vocab"},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/allowed_vocab.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Allowed Vocabularies — allowed_vocab","text":"named list containing vocabulary vectors different data fields","code":""},{"path":[]},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/allowed_vocab.html","id":"trophic-group","dir":"Reference","previous_headings":"","what":"trophic_group","title":"Allowed Vocabularies — allowed_vocab","text":"Fish trophic classifications: shark sharks top_predator Large predatory fish excluding sharks lower_carnivore Mid-level carnivorous fish herbivore | detritivore Plant detritus feeding fish planktivore Plankton feeding fish","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/allowed_vocab.html","id":"depth-strata","dir":"Reference","previous_headings":"","what":"depth_strata","title":"Allowed Vocabularies — allowed_vocab","text":"Survey depth categories: surface 0m depth (surface observations) supershallow 0.1 - 6m depth shallow 6.1 - 14m depth deep 14.1 - 30m depth superdeep > 30m depth","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/allowed_vocab.html","id":"exposure","dir":"Reference","previous_headings":"","what":"exposure","title":"Allowed Vocabularies — allowed_vocab","text":"Site exposure conditions: windward Exposed prevailing swell wind; typically high wave energy surge leeward Sheltered side reef island protected prevailing swell lagoon Located inside reef atoll, generally protected direct wave action channel Within reef pass surge channel; often features strong tidal currents sheltered Protected wave energy bay geomorphic feature exposed Generally high energy due wave swell exposure; used windward/leeward apply unknown Exposure determined insufficient data classify","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/allowed_vocab.html","id":"uvs-habitats","dir":"Reference","previous_headings":"","what":"uvs_habitats","title":"Allowed Vocabularies — allowed_vocab","text":"Underwater visual survey habitat classifications: fore_reef Seaward-facing outer slope coral reef back_reef Lagoon-facing side behind reef crest reef_flat Horizontal shallow zone near crest patch_reef Isolated reef outcrop within lagoon sand plain pinnacle_reef Steep-sided, often isolated coral structures bank Flat-topped offshore feature reef rocky habitat rocky_reef Non-coral reef formed rock, reef biota reef_pavement Flat, low-relief hard-bottom reef surface channel_pass Channel reef system strong flow wall Vertical steep reef drop-kelp_forest Dense canopy-forming macroalgae habitat seagrass Dominant seagrass bed habitat","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/allowed_vocab.html","id":"functional-groups","dir":"Reference","previous_headings":"","what":"functional_groups","title":"Allowed Vocabularies — allowed_vocab","text":"Benthic functional group classifications: hard_coral Hard coral colonies structures (Scleractinia) soft_coral Soft coral colonies, sea fans, gorgonians algae_erect Erect/branching macroalgae (fleshy calcareous) algae_encrusting Encrusting algal forms (non-coralline) algae_canopy Kelp, Sargassum, large canopy-forming macroalgae cca Crustose coralline algae turf Algal turf matrices (< 2cm height) cyanobacteria Cyanobacterial mats films seagrass Seagrass species sponges Sponge communities structures (Porifera) bryozoans Bryozoan colonies ascidians Tunicates sea squirts hydrozoans Hydrozoan colonies (fire corals, hydroids) other_cnidarians cnidarians (anemones, zoanthids, corallimorphs) sediment | rubble | barren Sediment, rubble, barren substrate eam Epilithic algal matrix (turf + detritus + microbes) worms Tube worms sessile polychaetes echinoderms Sessile echinoderms (crinoids, urchins crevices) molluscs Sessile molluscs (giant clams, oysters, vermetids) forams Large benthic foraminifera barnacles Barnacle assemblages functional groups classified ","code":""},{"path":[]},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/allowed_vocab.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Allowed Vocabularies — allowed_vocab","text":"","code":"# View available vocabularies names(allowed_vocab) #> [1] \"trophic_group\"     \"depth_strata\"      \"exposure\"          #> [4] \"uvs_habitats\"      \"functional_groups\"  # Get valid trophic groups allowed_vocab$trophic_group #> [1] \"shark\"                   \"top_predator\"            #> [3] \"lower_carnivore\"         \"herbivore | detritivore\" #> [5] \"planktivore\"              # Get valid depth strata allowed_vocab$depth_strata #> [1] \"surface\"      \"supershallow\" \"shallow\"      \"deep\"         \"superdeep\"     # Check if a value is valid \"shark\" %in% allowed_vocab$trophic_group #> [1] TRUE"},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/clean_field_names.html","id":null,"dir":"Reference","previous_headings":"","what":"Clean Taxonomic Field Names from Benthic LPI Surveys — clean_field_names","title":"Clean Taxonomic Field Names from Benthic LPI Surveys — clean_field_names","text":"Interactively cleans standardizes taxonomic names benthic Line Point Intercept (LPI) surveys. function processes names multiple cleaning steps, asking user approval stage prevent unintended data loss. function specifically designed marine benthic taxonomy implements rules handling taxonomic uncertainty markers, species-level designations, common field survey artifacts.","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/clean_field_names.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clean Taxonomic Field Names from Benthic LPI Surveys — clean_field_names","text":"","code":"clean_field_names(x, return_log = FALSE, auto_approve = FALSE)"},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/clean_field_names.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clean Taxonomic Field Names from Benthic LPI Surveys — clean_field_names","text":"x Character vector taxonomic names clean return_log Logical. TRUE, returns list cleaned names data frame logging changes. FALSE (default), returns cleaned character vector. Default: FALSE auto_approve Logical. TRUE, applies cleaning steps without interactive prompts. Use caution - recommended reviewing changes auto_approve = FALSE first. Default: FALSE","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/clean_field_names.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clean Taxonomic Field Names from Benthic LPI Surveys — clean_field_names","text":"return_log = FALSE (default): character vector cleaned taxonomic names, NA entries completely removed. return_log = TRUE: list two elements: cleaned Character vector cleaned taxonomic names log Data frame columns step, original, cleaned, rule documenting changes made","code":""},{"path":[]},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/clean_field_names.html","id":"cleaning-steps","dir":"Reference","previous_headings":"","what":"Cleaning Steps","title":"Clean Taxonomic Field Names from Benthic LPI Surveys — clean_field_names","text":"function applies following transformations sequence:","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/clean_field_names.html","id":"-remove-parentheses-and-quotes","dir":"Reference","previous_headings":"","what":"1. Remove Parentheses and Quotes","title":"Clean Taxonomic Field Names from Benthic LPI Surveys — clean_field_names","text":"Removes content parentheses quotation marks (including nested): Pocillopora (damicornis) → Pocillopora Pocillopora ((nested)) → Pocillopora Turbinaria \"mesenterina\" → Turbinaria","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/clean_field_names.html","id":"-truncate-at-sp-spp-","dir":"Reference","previous_headings":"","what":"2. Truncate at sp./spp.","title":"Clean Taxonomic Field Names from Benthic LPI Surveys — clean_field_names","text":"Removes species-level uncertainty markers keeps genus: Acropora sp. → Acropora Porites spp → Porites Pattern matching uses word boundaries avoid truncating valid names (e.g., \"Dispar\" preserved).","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/clean_field_names.html","id":"-handle-uncertainty-markers","dir":"Reference","previous_headings":"","what":"3. Handle Uncertainty Markers","title":"Clean Taxonomic Field Names from Benthic LPI Surveys — clean_field_names","text":"aff. (affinis) - Strong uncertainty, drops epithet: Montipora aff. capitata → Montipora Montipora Aff. capitata → Montipora Indicates specimen similar likely named species cf. (confer) - Mild uncertainty, keeps epithet: Porites cf. lobata → Porites lobata Indicates comparison named species, higher confidence","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/clean_field_names.html","id":"-handle-unknown-taxonomic-group","dir":"Reference","previous_headings":"","what":"4. Handle Unknown + Taxonomic Group","title":"Clean Taxonomic Field Names from Benthic LPI Surveys — clean_field_names","text":"Converts \"unknown\" + group proper higher taxonomy: Unknown coral → Scleractinia Unknown sponge → Porifera Unidentified alone → NA","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/clean_field_names.html","id":"-remove-like-qualifiers","dir":"Reference","previous_headings":"","what":"5. Remove '-like' Qualifiers","title":"Clean Taxonomic Field Names from Benthic LPI Surveys — clean_field_names","text":"Removes qualifiers indicating morphological similarity: Millepora-like → Millepora Millepora-like organism → Millepora Handles various dash types: -, –, —","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/clean_field_names.html","id":"-standardize-capitalization","dir":"Reference","previous_headings":"","what":"6. Standardize Capitalization","title":"Clean Taxonomic Field Names from Benthic LPI Surveys — clean_field_names","text":"Converts proper taxonomic case (genus capitalized, epithet lowercase): ACROPORA PALMATA → Acropora palmata porites lobata → Porites lobata","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/clean_field_names.html","id":"-whitespace-cleanup","dir":"Reference","previous_headings":"","what":"7. Whitespace Cleanup","title":"Clean Taxonomic Field Names from Benthic LPI Surveys — clean_field_names","text":"Removes extra spaces trims leading/trailing whitespace","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/clean_field_names.html","id":"interactive-workflow","dir":"Reference","previous_headings":"","what":"Interactive Workflow","title":"Clean Taxonomic Field Names from Benthic LPI Surveys — clean_field_names","text":"step, function: Shows proposed changes /comparison Displays 20 examples (count additional changes) Prompts approval (y/n) Applies changes approved interactive approach allows taxonomic experts review transformation ensure valid taxonomic names corrupted.","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/clean_field_names.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Clean Taxonomic Field Names from Benthic LPI Surveys — clean_field_names","text":"Sigovini, M., Keppel, E., & Tagliapietra, D. (2016). Open Nomenclature biodiversity era. Methods Ecology Evolution, 7(10), 1217-1225. Bengtson, P. (1988). Open nomenclature. Palaeontology, 31, 223-227.","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/clean_field_names.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Clean Taxonomic Field Names from Benthic LPI Surveys — clean_field_names","text":"Juan Mayorga","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/clean_field_names.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clean Taxonomic Field Names from Benthic LPI Surveys — clean_field_names","text":"","code":"# Basic usage with auto-approve taxa <- c(   \"ACROPORA SP.\",   \"Porites cf. lobata\",   \"Montipora aff. capitata\",   \"Pocillopora (damicornis)\",   \"Unknown coral\",   \"Millepora-like\",   \"Stylophora  pistillata\" )  cleaned <- clean_field_names(taxa, auto_approve = TRUE)  # With logging for reproducibility result <- clean_field_names(taxa, return_log = TRUE, auto_approve = TRUE) cleaned_names <- result$cleaned change_log <- result$log  if (FALSE) { # \\dontrun{ # Interactive mode (prompts for approval at each step) cleaned_interactive <- clean_field_names(taxa)  # Export log for methods section write.csv(change_log, \"taxonomy_cleaning_log.csv\", row.names = FALSE)  # Clean a data frame column library(dplyr) df <- data.frame(   site = c(\"A\", \"B\", \"C\"),   taxon = c(\"Acropora sp.\", \"Porites cf. lutea\", \"Unknown\") )  df_clean <- df %>%   mutate(taxon_clean = clean_field_names(taxon, auto_approve = TRUE)) } # }"},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/create_expedition.html","id":null,"dir":"Reference","previous_headings":"","what":"Create New Pristine Seas Expedition Structure — create_expedition","title":"Create New Pristine Seas Expedition Structure — create_expedition","text":"Creates comprehensive standardized folder structure Pristine Seas expeditions expeditions folder science drive. Expedition names follow convention ISO3-YEAR (e.g., CHL-2024).","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/create_expedition.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create New Pristine Seas Expedition Structure — create_expedition","text":"","code":"create_expedition(expedition_name, create_readme = TRUE)"},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/create_expedition.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create New Pristine Seas Expedition Structure — create_expedition","text":"expedition_name Character string. Name expedition following ISO3-YEAR format create_readme Logical. Whether create README.md file expedition template (default: TRUE)","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/create_expedition.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create New Pristine Seas Expedition Structure — create_expedition","text":"Character string. Path created expedition folder","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/create_expedition.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create New Pristine Seas Expedition Structure — create_expedition","text":"","code":"if (FALSE) { # \\dontrun{ # Create an expedition (standard naming: ISO3-YEAR) create_expedition(\"CHL-2024\")  # Create expedition without README create_expedition(\"MEX-2024\", create_readme = FALSE) } # }"},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/create_expedition_readme.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Expedition README Template — create_expedition_readme","title":"Create Expedition README Template — create_expedition_readme","text":"Create Expedition README Template","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/create_expedition_readme.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Expedition README Template — create_expedition_readme","text":"","code":"create_expedition_readme(expedition_name)"},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/create_project.html","id":null,"dir":"Reference","previous_headings":"","what":"Create New Pristine Seas Project Structure — create_project","title":"Create New Pristine Seas Project Structure — create_project","text":"Creates simple standardized folder structure Pristine Seas projects projects folder science drive.","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/create_project.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create New Pristine Seas Project Structure — create_project","text":"","code":"create_project(project_name)"},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/create_project.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create New Pristine Seas Project Structure — create_project","text":"project_name Character string. Name new project (use \"prj-\" prefix convention)","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/create_project.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create New Pristine Seas Project Structure — create_project","text":"Character string. Path created project folder","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/create_project.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create New Pristine Seas Project Structure — create_project","text":"","code":"if (FALSE) { # \\dontrun{ # Create a project create_project(\"prj-coral-reef-assessment\")  # Create another project create_project(\"prj-fish-surveys\") } # }"},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/get_atoll_dhw_bbox.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch NOAA CRW DHW for an sf feature's bounding box — get_atoll_dhw_bbox","title":"Fetch NOAA CRW DHW for an sf feature's bounding box — get_atoll_dhw_bbox","text":"Convenience wrapper : transforms feature geometry WGS84 (EPSG:4326), extracts bounding box (xmin/xmax = lon, ymin/ymax = lat), queries CRW DHW yearly chunks via get_crw_dhw_bbox().","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/get_atoll_dhw_bbox.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch NOAA CRW DHW for an sf feature's bounding box — get_atoll_dhw_bbox","text":"","code":"get_atoll_dhw_bbox(   feature,   start = \"2015-01-01\",   end = \"2024-12-31\",   name_col = \"atoll\",   summarise_daily = TRUE,   timeout_sec = 300,   pause_sec = 0.2,   verbose = TRUE )"},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/get_atoll_dhw_bbox.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch NOAA CRW DHW for an sf feature's bounding box — get_atoll_dhw_bbox","text":"feature single-row sf object (one feature / atoll polygon). start, end Date range (YYYY-MM-DD Date). name_col Name column feature holds atoll name. summarise_daily TRUE (default), return daily mean DHW bbox. FALSE, return raw gridded DHW values bbox. timeout_sec Request timeout (seconds). pause_sec Pause yearly requests (seconds). verbose TRUE, prints progress messages (atoll + year).","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/get_atoll_dhw_bbox.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch NOAA CRW DHW for an sf feature's bounding box — get_atoll_dhw_bbox","text":"summarise_daily = TRUE: tibble columns atoll, date, avg_dhw. summarise_daily = FALSE: tibble columns atoll, date, latitude, longitude, dhw.","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/get_atoll_dhw_bbox.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fetch NOAA CRW DHW for an sf feature's bounding box — get_atoll_dhw_bbox","text":"default, returns daily mean DHW across grid points bbox. Set summarise_daily = FALSE return raw gridded values (one row per grid cell per day).","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/get_atoll_dhw_bbox.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch NOAA CRW DHW for an sf feature's bounding box — get_atoll_dhw_bbox","text":"","code":"if (FALSE) { # \\dontrun{ # AOIs is an sf object with an \"atoll\" column jemo <- AOIs[AOIs$atoll == \"Jemo\", ]  # Daily mean DHW across bbox jemo_daily <- get_atoll_dhw_bbox(jemo, start = \"2015-01-01\", end = \"2024-12-31\")  # Raw grid values jemo_grid <- get_atoll_dhw_bbox(   jemo, start = \"2015-01-01\", end = \"2015-12-31\",   summarise_daily = FALSE ) } # }"},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/get_crw_dhw_bbox.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch NOAA CRW DHW (Degree Heating Week) for a bounding box (bbox) — get_crw_dhw_bbox","title":"Fetch NOAA CRW DHW (Degree Heating Week) for a bounding box (bbox) — get_crw_dhw_bbox","text":"Query NOAA CoastWatch ERDDAP NOAA Coral Reef Watch (CRW) Degree Heating Week (DHW; units = °C-weeks) daily values within lat/lon bounding box. Requests chunked year keep responses manageable reliable.","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/get_crw_dhw_bbox.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch NOAA CRW DHW (Degree Heating Week) for a bounding box (bbox) — get_crw_dhw_bbox","text":"","code":"get_crw_dhw_bbox(   lat_min,   lat_max,   lon_min,   lon_max,   start = \"2015-01-01\",   end = \"2024-12-31\",   timeout_sec = 300,   pause_sec = 0.2,   verbose = TRUE )"},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/get_crw_dhw_bbox.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch NOAA CRW DHW (Degree Heating Week) for a bounding box (bbox) — get_crw_dhw_bbox","text":"lat_min, lat_max Latitude bounds (decimal degrees, WGS84). lon_min, lon_max Longitude bounds (decimal degrees, WGS84). start, end Date range (YYYY-MM-DD Date). end must >= start. timeout_sec Request timeout (seconds). pause_sec Pause yearly requests (seconds). verbose TRUE, prints progress messages per year.","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/get_crw_dhw_bbox.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch NOAA CRW DHW (Degree Heating Week) for a bounding box (bbox) — get_crw_dhw_bbox","text":"tibble columns: date, latitude, longitude, dhw.","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/get_crw_dhw_bbox.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fetch NOAA CRW DHW (Degree Heating Week) for a bounding box (bbox) — get_crw_dhw_bbox","text":"Data source: ERDDAP dataset noaacrwdhwDaily, variable degree_heating_week.","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/get_crw_dhw_bbox.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch NOAA CRW DHW (Degree Heating Week) for a bounding box (bbox) — get_crw_dhw_bbox","text":"","code":"if (FALSE) { # \\dontrun{ dhw <- get_crw_dhw_bbox(   lat_min = 10.0, lat_max = 10.2,   lon_min = 169.4, lon_max = 169.7,   start = \"2015-01-01\", end = \"2015-12-31\" ) } # }"},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/get_crw_dhw_sf.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch NOAA CRW DHW for an sf feature's bounding box — get_crw_dhw_sf","title":"Fetch NOAA CRW DHW for an sf feature's bounding box — get_crw_dhw_sf","text":"Convenience wrapper : transforms feature geometry WGS84 (EPSG:4326), extracts bounding box (xmin/xmax = lon, ymin/ymax = lat), queries CRW DHW yearly chunks via get_crw_dhw_bbox().","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/get_crw_dhw_sf.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch NOAA CRW DHW for an sf feature's bounding box — get_crw_dhw_sf","text":"","code":"get_crw_dhw_sf(   feature,   start = \"2015-01-01\",   end = \"2024-12-31\",   name_col = \"atoll\",   out_col = \"feature\",   summarise_daily = TRUE,   timeout_sec = 300,   pause_sec = 0.2,   verbose = TRUE )"},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/get_crw_dhw_sf.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch NOAA CRW DHW for an sf feature's bounding box — get_crw_dhw_sf","text":"feature single-row sf object (one feature geometry). start, end Date range (YYYY-MM-DD Date). name_col Name column feature holds feature identifier. column can name (e.g., \"atoll\", \"name\", \"site\", \"reef\", \"id\"). out_col Name output column used store feature identifier. Default \"feature\". Set \"atoll\" want atoll column. summarise_daily TRUE (default), return daily mean DHW bbox. FALSE, return raw gridded DHW values bbox. timeout_sec Request timeout (seconds). pause_sec Pause yearly requests (seconds). verbose TRUE, prints progress messages (feature + year).","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/get_crw_dhw_sf.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch NOAA CRW DHW for an sf feature's bounding box — get_crw_dhw_sf","text":"summarise_daily = TRUE: tibble columns {out_col}, date, avg_dhw. summarise_daily = FALSE: tibble columns {out_col}, date, latitude, longitude, dhw.","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/get_crw_dhw_sf.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fetch NOAA CRW DHW for an sf feature's bounding box — get_crw_dhw_sf","text":"default, returns daily mean DHW across grid points bbox. Set summarise_daily = FALSE return raw gridded values (one row per grid cell per day).","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/get_crw_dhw_sf.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch NOAA CRW DHW for an sf feature's bounding box — get_crw_dhw_sf","text":"","code":"if (FALSE) { # \\dontrun{ # AOIs is an sf object with a column identifying each feature. # The identifier column does NOT need to be named \"atoll\".  # ---- Example: single feature ---- jemo <- AOIs[AOIs$name == \"Jemo\", ]  jemo_dhw <- get_crw_dhw_sf(   jemo,   start = \"2015-01-01\", end = \"2024-12-31\",   name_col = \"name\",   out_col  = \"feature\" )  # ---- Example: two features ---- subset <- AOIs[AOIs$name %in% c(\"Jemo\", \"Taka\"), ]  dhw_two <- purrr::map_dfr(seq_len(nrow(subset)), \\(i)   get_crw_dhw_sf(     subset[i, ],     start = \"2015-01-01\", end = \"2024-12-31\",     name_col = \"name\",     out_col  = \"feature\"   ) ) } # }"},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/get_drive_paths.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Standardized Paths for the Science Team in Google Drive — get_drive_paths","title":"Get Standardized Paths for the Science Team in Google Drive — get_drive_paths","text":"function returns correct file path \"SCIENCE\" folder within \"Pristine Seas\" Google Drive Desktop, ensuring compatibility across Mac Windows. automatically searches ngs.org Google Drive account first, default another account needed.","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/get_drive_paths.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Standardized Paths for the Science Team in Google Drive — get_drive_paths","text":"","code":"get_drive_paths()"},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/get_drive_paths.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Standardized Paths for the Science Team in Google Drive — get_drive_paths","text":"named list full paths \"SCIENCE\", \"datasets\", \"expeditions\", \"projects\".","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/get_drive_paths.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Standardized Paths for the Science Team in Google Drive — get_drive_paths","text":"","code":"if (FALSE) { # \\dontrun{ # Get paths for the SCIENCE folder and subfolders paths <- get_drive_paths() print(paths$science)      # Path to SCIENCE folder print(paths$datasets)     # Path to datasets folder print(paths$expeditions)  # Path to expeditions folder print(paths$projects)     # Path to projects folder } # }"},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/ps_colors.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Pristine Seas colors — ps_colors","title":"Get Pristine Seas colors — ps_colors","text":"Retrieve Pristine Seas color palettes name.","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/ps_colors.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Pristine Seas colors — ps_colors","text":"","code":"ps_colors(palette = NULL)"},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/ps_colors.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Pristine Seas colors — ps_colors","text":"palette Character. Name palette retrieve. NULL, returns available palette names.","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/ps_colors.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Pristine Seas colors — ps_colors","text":"palette NULL, character vector palette names. Otherwise, named character vector hex codes.","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/ps_colors.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get Pristine Seas colors — ps_colors","text":"Palettes returned named character vectors hex color codes.","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/ps_colors.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Pristine Seas colors — ps_colors","text":"","code":"ps_colors()                    # list available palettes #> [1] \"depth_strata\"      \"exposure\"          \"trophic_group\"     #> [4] \"functional_groups\" \"uvs_habitats\"      ps_colors(\"trophic_group\")     # named vector #>                   shark            top_predator         lower_carnivore  #>               \"#7A0010\"               \"#E0B83F\"               \"#8EC9F0\"  #> herbivore | detritivore             planktivore  #>               \"#1F7A4C\"               \"#B9A3E3\"  ps_colors(\"functional_groups\") # named vector #>                 hard_coral                        cca  #>                  \"#2E4A9E\"                  \"#FF7FA7\"  #>                 soft_coral                algae_erect  #>                  \"#6FD3E3\"                  \"#2FA84F\"  #>           algae_encrusting               algae_canopy  #>                  \"#8FCFA9\"                  \"#8A7A3A\"  #>                    sponges                      other  #>                  \"#E07A5F\"                  \"#7A5C8F\"  #>              cyanobacteria                       turf  #>                  \"#0B0B0B\"                  \"#4A3A2A\"  #> sediment | rubble | barren  #>                  \"#D9D9D9\""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/ps_researchers.html","id":null,"dir":"Reference","previous_headings":"","what":"Scientists Lookup Table — ps_researchers","title":"Scientists Lookup Table — ps_researchers","text":"Directory Pristine Seas scientists collaborators contact information, affiliations, research specialties.","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/ps_researchers.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Scientists Lookup Table — ps_researchers","text":"","code":"ps_researchers"},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/ps_researchers.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Scientists Lookup Table — ps_researchers","text":"data frame scientist information","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/ps_researchers.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Scientists Lookup Table — ps_researchers","text":"status categories: core — Full-time Pristine Seas staff affiliate — Regular collaborators partners visiting — Visiting scientists temporary collaborators Emeritus - Retired team member Local - Local participant","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/ps_science_paths.html","id":null,"dir":"Reference","previous_headings":"","what":"Get standardized Pristine Seas Google Drive paths — ps_science_paths","title":"Get standardized Pristine Seas Google Drive paths — ps_science_paths","text":"Returns normalized local paths Pristine Seas Science Google Drive folder structure:","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/ps_science_paths.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get standardized Pristine Seas Google Drive paths — ps_science_paths","text":"","code":"ps_science_paths(mustWork = FALSE)"},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/ps_science_paths.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get standardized Pristine Seas Google Drive paths — ps_science_paths","text":"mustWork Logical. TRUE, function errors SCIENCE folder found. FALSE (default), warning issued best-guess path returned.","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/ps_science_paths.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get standardized Pristine Seas Google Drive paths — ps_science_paths","text":"named list normalized paths: science Path Pristine Seas/SCIENCE datasets Path SCIENCE/datasets expeditions Path SCIENCE/expeditions projects Path SCIENCE/projects","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/ps_science_paths.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get standardized Pristine Seas Google Drive paths — ps_science_paths","text":"function works Mac Windows avoids hard-coded user paths. Path resolution order: environment variable PS_SCIENCE_PATH set, used SCIENCE folder. Otherwise, function detects local Google Drive \"Drive\" directory searches \"Pristine Seas/SCIENCE\". multiple matches exist, ngs.org account preferred. function requires Google Drive Desktop Pristine Seas/SCIENCE folder synced locally. non-standard setups (e.g., custom drive letters, CI, shared machines), set environment variable .Renviron: returned paths use forward slashes cross-platform compatibility.","code":"My Drive/ └── Pristine Seas/     └── SCIENCE/         ├── datasets/         ├── expeditions/         └── projects/ PS_SCIENCE_PATH=G:/My Drive/Pristine Seas/SCIENCE"},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/ps_science_paths.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get standardized Pristine Seas Google Drive paths — ps_science_paths","text":"","code":"if (FALSE) { # \\dontrun{ paths <- get_drive_paths()  paths$science paths$datasets  readr::read_csv(file.path(paths$datasets, \"fish\", \"blt_data.csv\")) } # }"},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/ps_show_palette.html","id":null,"dir":"Reference","previous_headings":"","what":"Preview a Pristine Seas palette — ps_show_palette","title":"Preview a Pristine Seas palette — ps_show_palette","text":"Quick visualization helper inspect palettes glance.","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/ps_show_palette.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Preview a Pristine Seas palette — ps_show_palette","text":"","code":"ps_show_palette(palette, show_labels = TRUE, ncol = NULL)"},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/ps_show_palette.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Preview a Pristine Seas palette — ps_show_palette","text":"palette Character. Palette name passed ps_colors(). show_labels Logical. Whether display category labels. Default TRUE. ncol Integer. Number columns swatch grid. Default NULL (auto).","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/ps_show_palette.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Preview a Pristine Seas palette — ps_show_palette","text":"ggplot object ggplot2 available; otherwise invisibly returns NULL plotting.","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/ps_show_palette.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Preview a Pristine Seas palette — ps_show_palette","text":"ggplot2 installed, returns ggplot swatch plot. Otherwise, draws simple base R swatch plot.","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/ps_show_palette.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Preview a Pristine Seas palette — ps_show_palette","text":"","code":"if (FALSE) { # \\dontrun{ ps_show_palette(\"trophic_group\") ps_show_palette(\"functional_groups\", ncol = 3) } # }"},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/scale_color_ps.html","id":null,"dir":"Reference","previous_headings":"","what":"Discrete color scale using Pristine Seas palettes — scale_color_ps","title":"Discrete color scale using Pristine Seas palettes — scale_color_ps","text":"Convenience wrapper around ggplot2::scale_color_manual() pulls colors ps_colors().","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/scale_color_ps.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Discrete color scale using Pristine Seas palettes — scale_color_ps","text":"","code":"scale_color_ps(palette, drop = FALSE, ...)"},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/scale_color_ps.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Discrete color scale using Pristine Seas palettes — scale_color_ps","text":"palette Character. Palette name passed ps_colors(). drop Logical. Passed ggplot2::scale_color_manual(). Default FALSE preserve palette order even levels unused. ... Additional arguments passed ggplot2::scale_color_manual().","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/scale_color_ps.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Discrete color scale using Pristine Seas palettes — scale_color_ps","text":"ggplot2 color scale.","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/scale_color_ps.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Discrete color scale using Pristine Seas palettes — scale_color_ps","text":"Intended discrete color aesthetics factor levels match palette names.","code":""},{"path":[]},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/scale_color_ps.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Discrete color scale using Pristine Seas palettes — scale_color_ps","text":"","code":"library(ggplot2)  # Species diversity by habitat (points with error bars) diversity <- data.frame(habitat = factor(c(\"fore_reef\", \"back_reef\", \"patch_reef\"),                                          levels = names(ps_colors(\"uvs_habitats\"))),                         species_richness = c(42, 35, 20),                         se = c(10, 8, 9))  ggplot(diversity,        aes(x = species_richness, y = habitat, color = habitat)) +   geom_point(size = 4) +   geom_errorbar(aes(xmin = species_richness - se, xmax = species_richness + se), width = 0.2) +   scale_color_ps(\"uvs_habitats\", drop = TRUE) +   labs(x = \"Species richness\", y = NULL) +   theme_ps()"},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/scale_fill_ps.html","id":null,"dir":"Reference","previous_headings":"","what":"Discrete fill scale using Pristine Seas palettes — scale_fill_ps","title":"Discrete fill scale using Pristine Seas palettes — scale_fill_ps","text":"Convenience wrapper around ggplot2::scale_fill_manual() pulls colors ps_colors().","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/scale_fill_ps.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Discrete fill scale using Pristine Seas palettes — scale_fill_ps","text":"","code":"scale_fill_ps(palette, drop = FALSE, ...)"},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/scale_fill_ps.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Discrete fill scale using Pristine Seas palettes — scale_fill_ps","text":"palette Character. Palette name passed ps_colors(). drop Logical. Passed ggplot2::scale_color_manual(). Default FALSE preserve palette order even levels unused. ... Additional arguments passed ggplot2::scale_color_manual().","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/scale_fill_ps.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Discrete fill scale using Pristine Seas palettes — scale_fill_ps","text":"ggplot2 fill scale.","code":""},{"path":[]},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/scale_fill_ps.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Discrete fill scale using Pristine Seas palettes — scale_fill_ps","text":"","code":"library(ggplot2)  # Benthic cover composition (stacked bar) - all functional groups  benthic <- data.frame(site             = rep(c(\"Site A\", \"Site B\"), each = 11),                      functional_group = factor(rep(c(\"hard_coral\", \"soft_coral\", \"cca\", \"turf\",                                                      \"algae_erect\", \"algae_encrusting\", \"algae_canopy\",                                                      \"sponges\", \"cyanobacteria\", \"other\", \"sediment | rubble | barren\"), 2),                                                levels = rev(names(ps_colors(\"functional_groups\")))),                      cover            = c(32, 5, 18, 15, 8, 3, 2, 4, 1, 2, 10, 22, 8, 12, 20, 10, 5, 4, 6, 3, 3, 7))  ggplot(benthic,        aes(x = site, y = cover, fill = functional_group)) +   geom_col(position = \"stack\") +   scale_fill_ps(\"functional_groups\") +   labs(x = NULL, y = \"Cover (%)\", fill = \"Functional group\") +   theme_ps()   # Fish biomass by trophic group (stacked bar)  fish_trophic <- data.frame(site = rep(c(\"Protected\", \"Fished\"), each = 5),                            trophic_group = factor(rep(c(\"shark\", \"top_predator\", \"lower_carnivore\",                                                         \"herbivore | detritivore\", \"planktivore\"), 2),                                                   levels = rev(names(ps_colors(\"trophic_group\")))),   biomass = c(45, 120, 180, 210, 95, 5, 35, 150, 190, 80)/2)  ggplot(fish_trophic,        aes(x = site, y = biomass, fill = trophic_group)) +   geom_col(position = \"stack\") +   scale_fill_ps(\"trophic_group\") +   labs(x = NULL, y = expression(Biomass~(g/m^2)), fill = \"Trophic group\") +   theme_ps()"},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/station_suffix.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Station Suffix from Depth Strata — station_suffix","title":"Get Station Suffix from Depth Strata — station_suffix","text":"Converts depth strata standardized station suffixes consistent station ID creation across Pristine Seas expeditions.","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/station_suffix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Station Suffix from Depth Strata — station_suffix","text":"","code":"station_suffix(depth_strata)"},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/station_suffix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Station Suffix from Depth Strata — station_suffix","text":"depth_strata Character vector depth strata stratify().","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/station_suffix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Station Suffix from Depth Strata — station_suffix","text":"Character vector station suffixes.","code":""},{"path":[]},{"path":[]},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/station_suffix.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Station Suffix from Depth Strata — station_suffix","text":"","code":"# Basic usage depths <- c(0, 3, 8, 15, 25, 35) strata <- stratify(depths) station_suffix(strata) #> [1] \"00m\" \"05m\" \"10m\" \"20m\" \"20m\" \"30m\"  # Build station IDs site <- \"PS-01\" suffixes <- station_suffix(stratify(c(5, 12, 25))) paste0(site, \"-\", suffixes) #> [1] \"PS-01-05m\" \"PS-01-10m\" \"PS-01-20m\" #> \"RMI_2023_uvs_01_05m\" \"RMI_2023_uvs_01_10m\" \"RMI_2023_uvs_01_20m\""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/stratify.html","id":null,"dir":"Reference","previous_headings":"","what":"Stratify Depths into Standard Categories — stratify","title":"Stratify Depths into Standard Categories — stratify","text":"Converts depth measurements meters standardized Pristine Seas depth strata categories using fixed thresholds consistency across projects.","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/stratify.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Stratify Depths into Standard Categories — stratify","text":"","code":"stratify(avg_depth_m)"},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/stratify.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Stratify Depths into Standard Categories — stratify","text":"avg_depth_m Numeric vector. Average depth measurements meters.","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/stratify.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Stratify Depths into Standard Categories — stratify","text":"Character vector depth stratum labels.","code":""},{"path":[]},{"path":[]},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/stratify.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Stratify Depths into Standard Categories — stratify","text":"","code":"# Stratify survey depths depths <- c(0, 3, 8, 12, 18, 25, 35, 45) stratify(depths) #> [1] \"surface\"      \"supershallow\" \"shallow\"      \"shallow\"      \"deep\"         #> [6] \"deep\"         \"superdeep\"    \"superdeep\"     # Combine with station_suffix for IDs station_suffix(stratify(depths)) #> [1] \"00m\" \"05m\" \"10m\" \"10m\" \"20m\" \"20m\" \"30m\" \"30m\"  # Typical workflow survey_data <- data.frame(ps_station_id = c(\"RMI_2023_uvs_01\", \"RMI_2023_uvs_01\", \"RMI_2023_uvs_02\", \"RMI_2023_uvs_02\"),                           depth_m       = c(12, 21, 5, 12))  survey_data$depth_strata <- stratify(survey_data$depth_m) survey_data$suffix <- station_suffix(survey_data$depth_strata) survey_data #>     ps_station_id depth_m depth_strata suffix #> 1 RMI_2023_uvs_01      12      shallow    10m #> 2 RMI_2023_uvs_01      21         deep    20m #> 3 RMI_2023_uvs_02       5 supershallow    05m #> 4 RMI_2023_uvs_02      12      shallow    10m"},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/theme_ps.html","id":null,"dir":"Reference","previous_headings":"","what":"Pristine Seas ggplot2 theme — theme_ps","title":"Pristine Seas ggplot2 theme — theme_ps","text":"clean, publication-ready ggplot2 theme","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/theme_ps.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pristine Seas ggplot2 theme — theme_ps","text":"","code":"theme_ps(base_size = 12, base_family = \"Helvetica\")"},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/theme_ps.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pristine Seas ggplot2 theme — theme_ps","text":"base_size Numeric. Base font size. Default 12. base_family Character. Base font family. Default \"Helvetica\".","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/theme_ps.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pristine Seas ggplot2 theme — theme_ps","text":"ggplot2 theme object.","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/theme_ps.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Pristine Seas ggplot2 theme — theme_ps","text":"","code":"library(ggplot2) ggplot(mpg, aes(class, hwy)) +   geom_boxplot(fill = \"#0A9396\", color = \"white\") +   labs(title = \"Fuel efficiency by car class\") +   theme_ps()"},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/theme_ps_map.html","id":null,"dir":"Reference","previous_headings":"","what":"Pristine Seas map theme (ggplot2) — theme_ps_map","title":"Pristine Seas map theme (ggplot2) — theme_ps_map","text":"Clean, publication-ready map theme optional graticule/grid lines.","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/theme_ps_map.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pristine Seas map theme (ggplot2) — theme_ps_map","text":"","code":"theme_ps_map(default_font_family = \"Hind\", show_grid = TRUE, ...)"},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/theme_ps_map.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pristine Seas map theme (ggplot2) — theme_ps_map","text":"default_font_family Character. Base font family (e.g., \"Hind\"). show_grid Logical. TRUE, show major grid lines (useful lon/lat graticules). ... Additional arguments passed ggplot2::theme().","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/theme_ps_map.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pristine Seas map theme (ggplot2) — theme_ps_map","text":"ggplot2 theme object.","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/validate_vocab.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate Values Against Allowed Vocabularies — validate_vocab","title":"Validate Values Against Allowed Vocabularies — validate_vocab","text":"Checks whether values conform Pristine Seas standardized vocabularies. Use early data processing pipelines catch non-standard entries analysis. Stops informative error invalid values found.","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/validate_vocab.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate Values Against Allowed Vocabularies — validate_vocab","text":"","code":"validate_vocab(x, vocab)"},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/validate_vocab.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate Values Against Allowed Vocabularies — validate_vocab","text":"x Character vector values validate. vocab Character string naming vocabulary validate . One : \"trophic_group\", \"depth_strata\", \"exposure\", \"uvs_habitats\", \"functional_groups\".","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/validate_vocab.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate Values Against Allowed Vocabularies — validate_vocab","text":"Returns TRUE invisibly values valid. Stops error invalid values found.","code":""},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/validate_vocab.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Validate Values Against Allowed Vocabularies — validate_vocab","text":"function designed gatekeeper data quality. Place early pipeline ensure data conforms standards analysis. success: Prints confirmation message returns TRUE invisibly. failure: Stops error listing: Number identity invalid values allowed values reference filtering data (rather validating), use %% directly:","code":"df |> filter(trophic %in% allowed_vocab$trophic_group)"},{"path":[]},{"path":"https://pristine-seas.github.io/PristineSeasR2/reference/validate_vocab.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validate Values Against Allowed Vocabularies — validate_vocab","text":"","code":"# Successful validation (prints message, returns TRUE invisibly) validate_vocab(c(\"shark\", \"planktivore\"), \"trophic_group\") #> ✓ 2 valid value(s) for 'trophic_group'  # NAs trigger a warning validate_vocab(c(\"shallow\", NA, \"deep\"), \"depth_strata\") #> Warning: Found 1 NA value(s) in 'depth_strata' #> ✓ 2 valid value(s) for 'depth_strata' #> Warning: Found 1 NA value(s) in 'depth_strata' #> ✓ All 3 values valid for 'depth_strata'  # Use in a processing pipeline if (FALSE) { # \\dontrun{ raw_data <- read.csv(\"fish_surveys.csv\")  # Validate before proceeding validate_vocab(raw_data$trophic_group, \"trophic_group\") validate_vocab(raw_data$depth_strata, \"depth_strata\")  # Continue with clean data... } # }  # Invalid values trigger an error if (FALSE) { # \\dontrun{ validate_vocab(c(\"shark\", \"apex_predator\"), \"trophic_group\") #> Error: Invalid values found in 'trophic_group' #> Found 1 invalid value: apex_predator #> Allowed values: shark, top_predator, lower_carnivore, ... } # }  # Filtering (don't use validate_vocab, use %in% directly) if (FALSE) { # \\dontrun{ df |> filter(habitat %in% allowed_vocab$uvs_habitats) } # }"}]
